{% extends "stats/table_base.html" %}

{% set table_header="Group sales total" %}

{% block table_content %}
<table class="table table-striped table-bordered table-hover table-sm" id="group-sales-total-table">
    <thead>
        <tr>
            <th>Group</th>
            <th>Quantity</th>
            <th>Total (&#163;)</th>
        </tr>
    </thead>
    <tbody>
        {% for group in group_sales_total_data.values() %}
        <tr>
            <td>{{ group.name }}</td>
            <td>{{ group.qty_sum }}</td>
            <td>{{ group.price_sum }}</td>
        </tr>
        {% endfor %}
    </tbody>
</table>
{% set total_qty = group_sales_total_data.values()|sum(attribute='qty_sum') %}
{% set total_price = group_sales_total_data.values()|sum(attribute='price_sum') %}
<p>Total quantity: {{ total_qty }}</p>
<p>Total price: {{ '%0.2f'| format(total_price|float) }}</p>
{% endblock %}